<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≥–∏–¥ –ø–æ –≤—Ä–µ–º–µ–Ω–∞–º –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .tab-active {
            background-color: #2563eb; /* blue-600 */
            color: white;
            border-color: #2563eb; /* blue-600 */
        }
        .aspect-tab-active {
            background-color: #f1f5f9; /* slate-100 */
            color: #1e3a8a; /* blue-900 */
            font-weight: 600;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .quiz-option:hover:not(:disabled) {
            background-color: #f0f9ff; /* sky-50 */
        }
        .quiz-option:disabled {
            cursor: not-allowed;
        }
        .timeline {
            display: flex;
            align-items: center;
            width: 100%;
            height: 20px;
            background-color: #e5e7eb; /* slate-200 */
            border-radius: 9999px;
            position: relative;
            margin-top: 1rem;
            margin-bottom: 2.5rem; /* Increased bottom margin for labels */
        }
        .timeline-point {
            position: absolute;
            width: 12px;
            height: 12px;
            background-color: #ef4444; /* red-500 */
            border-radius: 50%;
            transform: translateX(-50%);
        }
        .timeline-label {
            position: absolute;
            top: 25px; /* Positioned below the timeline */
            transform: translateX(-50%);
            font-size: 0.75rem; /* 12px */
            color: #4b5563; /* slate-600 */
            white-space: nowrap;
        }
        .timeline-process {
            position: absolute;
            height: 100%;
            background-color: #3b82f6; /* blue-500 */
            opacity: 0.5;
            border-radius: 9999px;
        }
        .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 50;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background-color: #fefefe;
            margin: 10% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 700px;
            border-radius: 0.5rem; /* 8px */
            max-height: 80vh;
            overflow-y: auto;
        }
        .close-button {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-5xl font-bold text-slate-900">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≥–∏–¥ –ø–æ –≤—Ä–µ–º–µ–Ω–∞–º</h1>
            <p class="text-slate-600 mt-2">–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è –∏ –∞—Å–ø–µ–∫—Ç, —á—Ç–æ–±—ã –∏–∑—É—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –∏ –ø—Ä–æ–π—Ç–∏ –ø—Ä–∞–∫—Ç–∏–∫—É.</p>
            <button id="openVerbsModal" class="mt-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg transition-colors">
                –¢–∞–±–ª–∏—Ü–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –≥–ª–∞–≥–æ–ª–æ–≤
            </button>
        </header>

        <main>
            <nav id="time-nav" class="flex justify-center gap-2 md:gap-4 mb-6">
                <button data-time="Present" class="time-tab w-full md:w-auto text-lg font-semibold py-3 px-6 rounded-lg border-2 border-slate-300 transition-all duration-300">–ù–∞—Å—Ç–æ—è—â–µ–µ</button>
                <button data-time="Past" class="time-tab w-full md:w-auto text-lg font-semibold py-3 px-6 rounded-lg border-2 border-slate-300 transition-all duration-300">–ü—Ä–æ—à–µ–¥—à–µ–µ</button>
                <button data-time="Future" class="time-tab w-full md:w-auto text-lg font-semibold py-3 px-6 rounded-lg border-2 border-slate-300 transition-all duration-300">–ë—É–¥—É—â–µ–µ</button>
            </nav>

            <div id="aspect-nav-container" class="bg-white p-2 rounded-xl shadow-sm mb-8 sticky top-2 z-10">
                <nav id="aspect-nav" class="flex flex-wrap justify-center gap-2">
                    <button data-aspect="Simple" class="aspect-tab flex-grow md:flex-grow-0 text-sm md:text-base font-medium py-2 px-4 rounded-lg transition-all duration-300">Simple</button>
                    <button data-aspect="Continuous" class="aspect-tab flex-grow md:flex-grow-0 text-sm md:text-base font-medium py-2 px-4 rounded-lg transition-all duration-300">Continuous</button>
                    <button data-aspect="Perfect" class="aspect-tab flex-grow md:flex-grow-0 text-sm md:text-base font-medium py-2 px-4 rounded-lg transition-all duration-300">Perfect</button>
                    <button data-aspect="PerfectContinuous" class="aspect-tab flex-grow md:flex-grow-0 text-sm md:text-base font-medium py-2 px-4 rounded-lg transition-all duration-300">Perfect Continuous</button>
                </nav>
            </div>
            
            <div id="content-container" class="bg-white p-6 md:p-8 rounded-2xl shadow-lg min-h-[500px]">
                </div>
        </main>
    </div>

    <div id="verbsModal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="closeVerbsModal">&times;</span>
            <h2 class="text-2xl font-bold mb-4 text-slate-800">–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≥–ª–∞–≥–æ–ª—ã (Irregular Verbs)</h2>
            <p class="mb-4 text-sm text-slate-600">–ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –≥–ª–∞–≥–æ–ª–æ–≤ –≤ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ —è–≤–ª—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏. –ò—Ö —Ñ–æ—Ä–º—ã –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (Past Simple) –∏ –ø—Ä–∏—á–∞—Å—Ç–∏—è –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (Past Participle) –æ–±—Ä–∞–∑—É—é—Ç—Å—è –ø—É—Ç–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –æ–∫–æ–Ω—á–∞–Ω–∏—è <strong>-ed</strong> –∫ –∏–Ω—Ñ–∏–Ω–∏—Ç–∏–≤—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, work - worked - worked, play - played - played). –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω —Å–ø–∏—Å–æ–∫ –Ω–∞–∏–±–æ–ª–µ–µ —É–ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –≥–ª–∞–≥–æ–ª–æ–≤, —Ñ–æ—Ä–º—ã –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å.</p>
            <table>
                <thead>
                    <tr>
                        <th>Infinitive</th>
                        <th>Past Simple</th>
                        <th>Past Participle</th>
                        <th>–ü–µ—Ä–µ–≤–æ–¥</th>
                    </tr>
                </thead>
                <tbody id="irregularVerbsTableBody">
                </tbody>
            </table>
        </div>
    </div>

    <script>
        const irregularVerbsData = [
            { v1: "be", v2: "was/were", v3: "been", translation: "–±—ã—Ç—å" },
            { v1: "become", v2: "became", v3: "become", translation: "—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è" },
            { v1: "begin", v2: "began", v3: "begun", translation: "–Ω–∞—á–∏–Ω–∞—Ç—å" },
            { v1: "break", v2: "broke", v3: "broken", translation: "–ª–æ–º–∞—Ç—å" },
            { v1: "bring", v2: "brought", v3: "brought", translation: "–ø—Ä–∏–Ω–æ—Å–∏—Ç—å" },
            { v1: "build", v2: "built", v3: "built", translation: "—Å—Ç—Ä–æ–∏—Ç—å" },
            { v1: "buy", v2: "bought", v3: "bought", translation: "–ø–æ–∫—É–ø–∞—Ç—å" },
            { v1: "can", v2: "could", v3: "been able", translation: "–º–æ—á—å" },
            { v1: "catch", v2: "caught", v3: "caught", translation: "–ª–æ–≤–∏—Ç—å" },
            { v1: "choose", v2: "chose", v3: "chosen", translation: "–≤—ã–±–∏—Ä–∞—Ç—å" },
            { v1: "come", v2: "came", v3: "come", translation: "–ø—Ä–∏—Ö–æ–¥–∏—Ç—å" },
            { v1: "cost", v2: "cost", v3: "cost", translation: "—Å—Ç–æ–∏—Ç—å" },
            { v1: "cut", v2: "cut", v3: "cut", translation: "—Ä–µ–∑–∞—Ç—å" },
            { v1: "do", v2: "did", v3: "done", translation: "–¥–µ–ª–∞—Ç—å" },
            { v1: "draw", v2: "drew", v3: "drawn", translation: "—Ä–∏—Å–æ–≤–∞—Ç—å" },
            { v1: "drink", v2: "drank", v3: "drunk", translation: "–ø–∏—Ç—å" },
            { v1: "drive", v2: "drove", v3: "driven", translation: "–≤–æ–¥–∏—Ç—å (–º–∞—à–∏–Ω—É)" },
            { v1: "eat", v2: "ate", v3: "eaten", translation: "–µ—Å—Ç—å" },
            { v1: "fall", v2: "fell", v3: "fallen", translation: "–ø–∞–¥–∞—Ç—å" },
            { v1: "feel", v2: "felt", v3: "felt", translation: "—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å" },
            { v1: "find", v2: "found", v3: "found", translation: "–Ω–∞—Ö–æ–¥–∏—Ç—å" },
            { v1: "fly", v2: "flew", v3: "flown", translation: "–ª–µ—Ç–∞—Ç—å" },
            { v1: "forget", v2: "forgot", v3: "forgotten", translation: "–∑–∞–±—ã–≤–∞—Ç—å" },
            { v1: "get", v2: "got", v3: "got/gotten", translation: "–ø–æ–ª—É—á–∞—Ç—å" },
            { v1: "give", v2: "gave", v3: "given", translation: "–¥–∞–≤–∞—Ç—å" },
            { v1: "go", v2: "went", v3: "gone", translation: "–∏–¥—Ç–∏, –µ—Ö–∞—Ç—å" },
            { v1: "grow", v2: "grew", v3: "grown", translation: "—Ä–∞—Å—Ç–∏" },
            { v1: "have", v2: "had", v3: "had", translation: "–∏–º–µ—Ç—å" },
            { v1: "hear", v2: "heard", v3: "heard", translation: "—Å–ª—ã—à–∞—Ç—å" },
            { v1: "know", v2: "knew", v3: "known", translation: "–∑–Ω–∞—Ç—å" },
            { v1: "learn", v2: "learnt/learned", v3: "learnt/learned", translation: "—É—á–∏—Ç—å" },
            { v1: "leave", v2: "left", v3: "left", translation: "–ø–æ–∫–∏–¥–∞—Ç—å, –æ—Å—Ç–∞–≤–ª—è—Ç—å" },
            { v1: "lose", v2: "lost", v3: "lost", translation: "—Ç–µ—Ä—è—Ç—å" },
            { v1: "make", v2: "made", v3: "made", translation: "–¥–µ–ª–∞—Ç—å, —Å–æ–∑–¥–∞–≤–∞—Ç—å" },
            { v1: "meet", v2: "met", v3: "met", translation: "–≤—Å—Ç—Ä–µ—á–∞—Ç—å" },
            { v1: "pay", v2: "paid", v3: "paid", translation: "–ø–ª–∞—Ç–∏—Ç—å" },
            { v1: "put", v2: "put", v3: "put", translation: "–∫–ª–∞—Å—Ç—å" },
            { v1: "read", v2: "read", v3: "read", translation: "—á–∏—Ç–∞—Ç—å" },
            { v1: "ride", v2: "rode", v3: "ridden", translation: "–µ–∑–¥–∏—Ç—å (–≤–µ—Ä—Ö–æ–º, –Ω–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–µ)" },
            { v1: "run", v2: "ran", v3: "run", translation: "–±–µ–∂–∞—Ç—å" },
            { v1: "say", v2: "said", v3: "said", translation: "–≥–æ–≤–æ—Ä–∏—Ç—å, —Å–∫–∞–∑–∞—Ç—å" },
            { v1: "see", v2: "saw", v3: "seen", translation: "–≤–∏–¥–µ—Ç—å" },
            { v1: "sell", v2: "sold", v3: "sold", translation: "–ø—Ä–æ–¥–∞–≤–∞—Ç—å" },
            { v1: "send", v2: "sent", v3: "sent", translation: "–ø–æ—Å—ã–ª–∞—Ç—å" },
            { v1: "sing", v2: "sang", v3: "sung", translation: "–ø–µ—Ç—å" },
            { v1: "sit", v2: "sat", v3: "sat", translation: "—Å–∏–¥–µ—Ç—å" },
            { v1: "sleep", v2: "slept", v3: "slept", translation: "—Å–ø–∞—Ç—å" },
            { v1: "speak", v2: "spoke", v3: "spoken", translation: "–≥–æ–≤–æ—Ä–∏—Ç—å (–Ω–∞ —è–∑—ã–∫–µ)" },
            { v1: "spend", v2: "spent", v3: "spent", translation: "—Ç—Ä–∞—Ç–∏—Ç—å, –ø—Ä–æ–≤–æ–¥–∏—Ç—å (–≤—Ä–µ–º—è)" },
            { v1: "stand", v2: "stood", v3: "stood", translation: "—Å—Ç–æ—è—Ç—å" },
            { v1: "swim", v2: "swam", v3: "swum", translation: "–ø–ª–∞–≤–∞—Ç—å" },
            { v1: "take", v2: "took", v3: "taken", translation: "–±—Ä–∞—Ç—å, –≤–∑—è—Ç—å" },
            { v1: "teach", v2: "taught", v3: "taught", translation: "—É—á–∏—Ç—å, –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç—å" },
            { v1: "tell", v2: "told", v3: "told", translation: "—Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å" },
            { v1: "think", v2: "thought", v3: "thought", translation: "–¥—É–º–∞—Ç—å" },
            { v1: "understand", v2: "understood", v3: "understood", translation: "–ø–æ–Ω–∏–º–∞—Ç—å" },
            { v1: "wake", v2: "woke", v3: "woken", translation: "–ø—Ä–æ—Å—ã–ø–∞—Ç—å—Å—è" },
            { v1: "wear", v2: "wore", v3: "worn", translation: "–Ω–æ—Å–∏—Ç—å (–æ–¥–µ–∂–¥—É)" },
            { v1: "win", v2: "won", v3: "won", translation: "–≤—ã–∏–≥—Ä—ã–≤–∞—Ç—å" },
            { v1: "write", v2: "wrote", v3: "written", translation: "–ø–∏—Å–∞—Ç—å" },
        ];

        const data = {
            PresentSimple: {
                title: "Present Simple (–ü—Ä–æ—Å—Ç–æ–µ –Ω–∞—Å—Ç–æ—è—â–µ–µ)",
                intro: "–≠—Ç–æ –≤—Ä–µ–º—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Ä–µ–≥—É–ª—è—Ä–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, —Ñ–∞–∫—Ç–æ–≤ –∏ –ø—Ä–∏–≤—ã—á–µ–∫. –≠—Ç–æ –æ—Å–Ω–æ–≤–∞ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø—Ä–æ—Å—Ç—ã—Ö —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –æ –º–∏—Ä–µ.",
                timeline: `<div class="timeline"><div class="timeline-point" style="left: 20%;"></div><div class="timeline-point" style="left: 50%;"></div><div class="timeline-point" style="left: 80%;"></div><div class="timeline-label" style="left: 50%;">–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</div></div>`,
                usage: [
                    "–†–µ–≥—É–ª—è—Ä–Ω—ã–µ, –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –¥–µ–π—Å—Ç–≤–∏—è, –ø—Ä–∏–≤—ã—á–∫–∏: <i>I wake up at 7 AM every day.</i>",
                    "–û–±—â–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ —Ñ–∞–∫—Ç—ã, –∑–∞–∫–æ–Ω—ã –ø—Ä–∏—Ä–æ–¥—ã: <i>The Earth goes around the Sun.</i>",
                    "–†–∞—Å–ø–∏—Å–∞–Ω–∏—è, –ø—Ä–æ–≥—Ä–∞–º–º—ã: <i>The train leaves at 9:00.</i>"
                ],
                formula: { positive: "I/You/We/They + V1<br>He/She/It + V1-s/es", negative: "I/You/We/They + do not (don't) + V1<br>He/She/It + does not (doesn't) + V1", question: "Do + I/you/we/they + V1?<br>Does + he/she/it + V1?" },
                markers: "always, usually, often, sometimes, never, every day, on Mondays.",
                examples: [ "She <b>works</b> in a bank.", "They <b>don't like</b> spicy food.", "<b>Do</b> you <b>speak</b> English?" ],
                quizzes: [
                    { question: "She ___ to the gym every Tuesday.", options: ["go", "goes", "is going", "went"], answer: "goes" },
                    { question: "Water ___ at 100 degrees Celsius.", options: ["boil", "boils", "is boiling", "boiled"], answer: "boils" },
                    { question: "My parents ___ in a small house.", options: ["live", "lives", "are living", "lived"], answer: "live" }
                ]
            },
            PresentContinuous: {
                title: "Present Continuous (–ù–∞—Å—Ç–æ—è—â–µ–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ)",
                intro: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π, –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–∏—Ö –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å, –≤ –º–æ–º–µ–Ω—Ç —Ä–µ—á–∏, –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º.",
                timeline: `<div class="timeline"><div class="timeline-process" style="left: 20%; width: 60%;"></div><div class="timeline-point" style="left: 50%;"></div><div class="timeline-label" style="left: 50%;">–°–µ–π—á–∞—Å</div></div>`,
                usage: [ "–î–µ–π—Å—Ç–≤–∏—è, –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–∏–µ –≤ –º–æ–º–µ–Ω—Ç —Ä–µ—á–∏: <i>I <b>am talking</b> on the phone now.</i>", "–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–∏—Ç—É–∞—Ü–∏–∏: <i>He <b>is learning</b> to drive.</i>", "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ –±–ª–∏–∂–∞–π—à–µ–µ –±—É–¥—É—â–µ–µ: <i>We <b>are meeting</b> friends tonight.</i>", "–†–∞–∑–¥—Ä–∞–∂–∞—é—â–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏ (—Å always): <i>She <b>is always losing</b> her keys!</i>" ],
                formula: { positive: "I + am + V-ing<br>He/She/It + is + V-ing<br>You/We/They + are + V-ing", negative: "Subject + am/is/are + not + V-ing", question: "Am/Is/Are + subject + V-ing?" },
                markers: "now, right now, at the moment, today, this week, Look!, Listen!.",
                examples: [ "Listen! Someone <b>is playing</b> the piano.", "They <b>aren't watching</b> TV at the moment.", "What <b>are</b> you <b>doing</b>?" ],
                quizzes: [
                    { question: "I ___ a new novel about a romantic boy now.", options: ["write", "am writing", "have been written", "writes"], answer: "am writing" },
                    { question: "Look! The children ___ in the park.", options: ["play", "plays", "are playing", "played"], answer: "are playing" },
                    { question: "Why ___ you ___ that strange hat today?", options: ["do ... wear", "are ... wearing", "does ... wear", "is ... wearing"], answer: "are ... wearing" }
                ]
            },
            PresentPerfect: {
                title: "Present Perfect (–ù–∞—Å—Ç–æ—è—â–µ–µ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–µ)",
                intro: "–°–≤—è–∑—ã–≤–∞–µ—Ç –ø—Ä–æ—à–ª–æ–µ —Å –Ω–∞—Å—Ç–æ—è—â–∏–º. –û–±–æ–∑–Ω–∞—á–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –≤ –ø—Ä–æ—à–ª–æ–º, –Ω–æ –µ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–∂–µ–Ω —Å–µ–π—á–∞—Å.",
                timeline: `<div class="timeline"><div class="timeline-point" style="left: 40%;"></div><div class="timeline-process" style="left: 40%; width: 40%; background: transparent; border-bottom: 3px dotted #3b82f6;"></div><div class="timeline-point" style="left: 80%; background-color: #22c55e;"></div><div class="timeline-label" style="left: 40%;">–ü—Ä–æ—à–ª–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ</div><div class="timeline-label" style="left: 80%;">–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–µ–π—á–∞—Å</div></div>`,
                usage: [ "–î–µ–π—Å—Ç–≤–∏–µ –≤ –ø—Ä–æ—à–ª–æ–º —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º: <i>I <b>have lost</b> my keys.</i> (–†–µ–∑—É–ª—å—Ç–∞—Ç: —è –Ω–µ –º–æ–≥—É –≤–æ–π—Ç–∏).", "–õ–∏—á–Ω—ã–π –æ–ø—ã—Ç: <i>She <b>has been</b> to Paris.</i>", "–î–µ–π—Å—Ç–≤–∏—è –≤ –Ω–µ–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏: <i>I <b>haven't seen</b> him this morning.</i>" ],
                formula: { positive: "I/You/We/They + have + V3<br>He/She/It + has + V3", negative: "Subject + have/has + not + V3", question: "Have/Has + subject + V3?" },
                markers: "just, already, yet, ever, never, recently, for, since.",
                examples: [ "He <b>has just finished</b> his homework.", "We <b>haven't decided</b> yet.", "<b>Have</b> you <b>ever eaten</b> sushi?" ],
                quizzes: [
                    { question: "They ___ to London, so they know the city well.", options: ["were", "have been", "go", "are"], answer: "have been" },
                    { question: "I ___ this film before. It's great!", options: ["see", "saw", "have seen", "am seeing"], answer: "have seen" },
                    { question: "She ___ (not finish) her project yet.", options: ["doesn't finish", "didn't finish", "hasn't finished", "isn't finishing"], answer: "hasn't finished" }
                ]
            },
            PresentPerfectContinuous: {
                title: "Present Perfect Continuous (–ù–∞—Å—Ç–æ—è—â–µ–µ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ)",
                intro: "–§–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞—á–∞–ª–æ—Å—å –≤ –ø—Ä–æ—à–ª–æ–º –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–æ —Å–∏—Ö –ø–æ—Ä, –∏–ª–∏ —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–≤–µ—Ä—à–∏–ª–æ—Å—å.",
                timeline: `<div class="timeline"><div class="timeline-process" style="left: 10%; width: 80%;"></div><div class="timeline-point" style="left: 90%; background-color: #22c55e;"></div><div class="timeline-label" style="left: 50%;">–î–µ–π—Å—Ç–≤–∏–µ –¥–ª–∏—Ç—Å—è –¥–æ —Å–µ–π—á–∞—Å</div></div>`,
                usage: [ "–î–µ–π—Å—Ç–≤–∏–µ –Ω–∞—á–∞–ª–æ—Å—å –≤ –ø—Ä–æ—à–ª–æ–º –∏ –≤—Å–µ –µ—â–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è: <i>I <b>have been waiting</b> for two hours.</i>", "–î–µ–π—Å—Ç–≤–∏–µ —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–∫–æ–Ω—á–∏–ª–æ—Å—å, –∏ –≤–∏–¥–µ–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç: <i>She is tired because she <b>has been working</b> all day.</i>" ],
                formula: { positive: "Subject + have/has + been + V-ing", negative: "Subject + have/has + not + been + V-ing", question: "Have/Has + subject + been + V-ing?" },
                markers: "for, since, all day, lately, how long...?",
                examples: [ "They <b>have been playing</b> football since morning.", "How long <b>have</b> you <b>been learning</b> English?" ],
                quizzes: [
                    { question: "He is out of breath. He ___ for an hour.", options: ["ran", "runs", "has been running", "is running"], answer: "has been running" },
                    { question: "We ___ this TV show for three hours!", options: ["watch", "are watching", "have watched", "have been watching"], answer: "have been watching" },
                    { question: "How long ___ you ___ for me?", options: ["do ... wait", "are ... waiting", "have ... waited", "have ... been waiting"], answer: "have ... been waiting" }
                ]
            },
            PastSimple: {
                title: "Past Simple (–ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–æ—à–µ–¥—à–µ–µ)",
                intro: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∞–ª–∏—Å—å –∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –ø—Ä–æ—à–ª–æ–º.",
                timeline: `<div class="timeline"><div class="timeline-point" style="left: 30%;"></div><div class="timeline-label" style="left: 30%;">–ó–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ</div></div>`,
                usage: [ "–î–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –ø—Ä–æ—à–ª–æ–º: <i>I <b>visited</b> London last year.</i>", "–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏–π –≤ –ø—Ä–æ—à–ª–æ–º: <i>She <b>woke up</b>, <b>had</b> breakfast, and <b>went</b> to work.</i>", "–ü—Ä–∏–≤—ã—á–∫–∏ –≤ –ø—Ä–æ—à–ª–æ–º: <i>He <b>played</b> tennis every Sunday when he was young.</i>" ],
                formula: { positive: "Subject + V2 / V-ed", negative: "Subject + did not (didn't) + V1", question: "Did + subject + V1?" },
                markers: "yesterday, last week/month/year, ... ago, in 1990.",
                examples: [ "We <b>watched</b> a film yesterday.", "She <b>didn't come</b> to the party.", "<b>Did</b> they <b>buy</b> a new car?" ],
                quizzes: [
                    { question: "We ___ to the cinema last night.", options: ["go", "are going", "went", "have gone"], answer: "went" },
                    { question: "Mozart ___ more than 600 pieces of music.", options: ["writes", "wrote", "has written", "was writing"], answer: "wrote" },
                    { question: "___ you ___ the match on TV yesterday?", options: ["Do ... watch", "Did ... watch", "Have ... watched", "Were ... watching"], answer: "Did ... watch" }
                ]
            },
            PastContinuous: {
                title: "Past Continuous (–ü—Ä–æ—à–µ–¥—à–µ–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ)",
                intro: "–û–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—ã–ª–æ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –ø—Ä–æ—à–ª–æ–º.",
                timeline: `<div class="timeline"><div class="timeline-process" style="left: 20%; width: 40%;"></div><div class="timeline-point" style="left: 50%;"></div><div class="timeline-label" style="left: 40%;">–ü—Ä–æ—Ü–µ—Å—Å –≤ –ø—Ä–æ—à–ª–æ–º</div><div class="timeline-label" style="left: 50%;">–ü—Ä–µ—Ä—ã–≤–∞—é—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ</div></div>`,
                usage: [ "–î–µ–π—Å—Ç–≤–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –ø—Ä–æ—à–ª–æ–º: <i>At 5 PM yesterday, I <b>was reading</b>.</i>", "–î–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è –≤ –ø—Ä–æ—à–ª–æ–º: <i>While I <b>was cooking</b>, my husband <b>was watching</b> TV.</i>", "–î–ª–∏—Ç–µ–ª—å–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ, –ø—Ä–µ—Ä–≤–∞–Ω–Ω–æ–µ –∫–æ—Ä–æ—Ç–∫–∏–º: <i>He <b>was sleeping</b> when the phone <b>rang</b>.</i>" ],
                formula: { positive: "I/He/She/It + was + V-ing<br>You/We/They + were + V-ing", negative: "Subject + was/were + not + V-ing", question: "Was/Were + subject + V-ing?" },
                markers: "while, when, as, at 5 o'clock yesterday.",
                examples: [ "They <b>were playing</b> chess when I saw them.", "What <b>were</b> you <b>doing</b> at this time yesterday?" ],
                quizzes: [
                    { question: "He was reading a book when the doorbell ___.", options: ["rings", "rang", "was ringing", "rung"], answer: "rang" },
                    { question: "While I ___ (drive) home, it started to rain.", options: ["drive", "drove", "was driving", "had driven"], answer: "was driving" },
                    { question: "At 8 PM last night, they ___ dinner.", options: ["have", "had", "were having", "had had"], answer: "were having" }
                ]
            },
            PastPerfect: {
                title: "Past Perfect (–ü—Ä–æ—à–µ–¥—à–µ–µ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–µ)",
                intro: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Ä–∞–Ω—å—à–µ –¥—Ä—É–≥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –≤ –ø—Ä–æ—à–ª–æ–º. '–ü—Ä–æ—à–ª–æ–µ –¥–æ –ø—Ä–æ—à–ª–æ–≥–æ'.",
                timeline: `<div class="timeline"><div class="timeline-point" style="left: 30%;"></div><div class="timeline-point" style="left: 60%;"></div><div class="timeline-label" style="left: 30%;">–î–µ–π—Å—Ç–≤–∏–µ 1 (—Ä–∞–Ω—å—à–µ)</div><div class="timeline-label" style="left: 60%;">–î–µ–π—Å—Ç–≤–∏–µ 2 (–ø–æ–∑–∂–µ)</div></div>`,
                usage: [ "–î–µ–π—Å—Ç–≤–∏–µ, –∑–∞–≤–µ—Ä—à–∏–≤—à–µ–µ—Å—è –¥–æ –¥—Ä—É–≥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –≤ –ø—Ä–æ—à–ª–æ–º: <i>When I arrived, the train <b>had already left</b>.</i>", "–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–∏—á–∏–Ω—ã —Å–æ–±—ã—Ç–∏—è –≤ –ø—Ä–æ—à–ª–æ–º: <i>She was sad because she <b>had failed</b> her exam.</i>" ],
                formula: { positive: "Subject + had + V3", negative: "Subject + had not (hadn't) + V3", question: "Had + subject + V3?" },
                markers: "before, after, by the time, when, already.",
                examples: [ "We <b>had eaten</b> dinner before they came.", "He <b>hadn't seen</b> that film before." ],
                quizzes: [
                    { question: "We ___ the goods by that time.", options: ["will shipped", "has shipped", "had shipped", "were shipped"], answer: "had shipped" },
                    { question: "By the time she arrived, the party ___ (already/start).", options: ["already started", "had already started", "was already starting", "started already"], answer: "had already started" },
                    { question: "He realized he ___ his wallet at home.", options: ["leave", "left", "was leaving", "had left"], answer: "had left" }
                ]
            },
            PastPerfectContinuous: {
                title: "Past Perfect Continuous (–ü—Ä–æ—à–µ–¥—à–µ–µ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ)",
                intro: "–û–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–∞–∫ –¥–æ–ª–≥–æ –¥–ª–∏–ª–æ—Å—å –¥–µ–π—Å—Ç–≤–∏–µ –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º.",
                timeline: `<div class="timeline"><div class="timeline-process" style="left: 10%; width: 60%;"></div><div class="timeline-point" style="left: 70%;"></div><div class="timeline-label" style="left: 40%;">–ö–∞–∫ –¥–æ–ª–≥–æ –¥–ª–∏–ª–æ—Å—å –¥–µ–π—Å—Ç–≤–∏–µ</div><div class="timeline-label" style="left: 70%;">–ú–æ–º–µ–Ω—Ç –≤ –ø—Ä–æ—à–ª–æ–º</div></div>`,
                usage: [ "–î–µ–π—Å—Ç–≤–∏–µ –ø—Ä–æ–¥–æ–ª–∂–∞–ª–æ—Å—å –¥–æ –¥—Ä—É–≥–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º: <i>They <b>had been waiting</b> for an hour when the bus arrived.</i>", "–ü—Ä–∏—á–∏–Ω–∞ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ –ø—Ä–æ—à–ª–æ–º: <i>His eyes were red because he <b>had been crying</b>.</i>" ],
                formula: { positive: "Subject + had been + V-ing", negative: "Subject + had not (hadn't) been + V-ing", question: "Had + subject + been + V-ing?" },
                markers: "for, since, before, until.",
                examples: [ "She <b>had been working</b> there for five years before she quit.", "How long <b>had</b> they <b>been dating</b> before they got married?" ],
                quizzes: [
                    { question: "She ___ for 2 hours before her friends finally arrived.", options: ["waited", "was waiting", "had been waiting", "waits"], answer: "had been waiting" },
                    { question: "They ___ (play) tennis for an hour when it started to rain.", options: ["played", "were playing", "had played", "had been playing"], answer: "had been playing" },
                    { question: "He was tired because he ___ all night.", options: ["studied", "was studying", "had studied", "had been studying"], answer: "had been studying" }
                ]
            },
            FutureSimple: {
                title: "Future Simple (–ü—Ä–æ—Å—Ç–æ–µ –±—É–¥—É—â–µ–µ)",
                intro: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–ø–æ–Ω—Ç–∞–Ω–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π, –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π, –æ–±–µ—â–∞–Ω–∏–π –∏ –Ω–µ–∏–∑–±–µ–∂–Ω—ã—Ö –±—É–¥—É—â–∏—Ö —Å–æ–±—ã—Ç–∏–π.",
                timeline: `<div class="timeline"><div class="timeline-point" style="left: 80%;"></div><div class="timeline-label" style="left: 80%;">–î–µ–π—Å—Ç–≤–∏–µ –≤ –±—É–¥—É—â–µ–º</div></div>`,
                usage: [ "–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è, –º–Ω–µ–Ω–∏—è: <i>I think it <b>will rain</b> tomorrow.</i>", "–°–ø–æ–Ω—Ç–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è: <i>I'<b>ll answer</b> it.</i>", "–û–±–µ—â–∞–Ω–∏—è, —É–≥—Ä–æ–∑—ã, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è: <i>I <b>will help</b> you.</i>" ],
                formula: { positive: "Subject + will + V1", negative: "Subject + will not (won't) + V1", question: "Will + subject + V1?" },
                markers: "tomorrow, next week, soon, in a few days, I think, probably.",
                examples: [ "They <b>will travel</b> to Spain next summer.", "I <b>won't tell</b> anyone your secret." ],
                quizzes: [
                    { question: "I think it ___ tomorrow.", options: ["rains", "is raining", "will rain", "rained"], answer: "will rain" },
                    { question: "A: The phone is ringing. B: I ___ it!", options: ["answer", "am answering", "will answer", "answered"], answer: "will answer" },
                    { question: "Perhaps she ___ us later.", options: ["calls", "is calling", "will call", "called"], answer: "will call" }
                ]
            },
            FutureContinuous: {
                title: "Future Continuous (–ë—É–¥—É—â–µ–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ)",
                intro: "–û–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –±—É–¥—É—â–µ–º.",
                timeline: `<div class="timeline"><div class="timeline-process" style="left: 60%; width: 30%;"></div><div class="timeline-label" style="left: 75%;">–ü—Ä–æ—Ü–µ—Å—Å –≤ –±—É–¥—É—â–µ–º</div></div>`,
                usage: [ "–î–µ–π—Å—Ç–≤–∏–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤ –º–æ–º–µ–Ω—Ç –≤ –±—É–¥—É—â–µ–º: <i>This time tomorrow, I <b>will be flying</b>.</i>", "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –∫–∞–∫ —á–∞—Å—Ç—å —Ä—É—Ç–∏–Ω—ã: <i>I <b>will be seeing</b> him tomorrow.</i>", "–í–µ–∂–ª–∏–≤—ã–π –≤–æ–ø—Ä–æ—Å –æ –ø–ª–∞–Ω–∞—Ö: <i><b>Will</b> you <b>be using</b> your computer tonight?</i>" ],
                formula: { positive: "Subject + will be + V-ing", negative: "Subject + will not (won't) be + V-ing", question: "Will + subject + be + V-ing?" },
                markers: "at 5 o'clock tomorrow, this time next week.",
                examples: [ "She <b>will be working</b> when you call.", "What <b>will</b> you <b>be doing</b> at 10 PM tonight?" ],
                quizzes: [
                    { question: "This time next week, we ___ on a beach.", options: ["will relax", "relax", "are relaxing", "will be relaxing"], answer: "will be relaxing" },
                    { question: "At 10 AM tomorrow, I ___ (take) an exam.", options: ["take", "will take", "am taking", "will be taking"], answer: "will be taking" },
                    { question: "Don't call me between 7 and 8. I ___ dinner then.", options: ["will have", "have", "will be having", "am having"], answer: "will be having" }
                ]
            },
            FuturePerfect: {
                title: "Future Perfect (–ë—É–¥—É—â–µ–µ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–µ)",
                intro: "–û–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –º–æ–º–µ–Ω—Ç—É –≤ –±—É–¥—É—â–µ–º.",
                timeline: `<div class="timeline"><div class="timeline-process" style="left: 30%; width: 50%; background: transparent; border-bottom: 3px dotted #3b82f6;"></div><div class="timeline-point" style="left: 80%;"></div><div class="timeline-label" style="left: 80%;">–î–µ–π—Å—Ç–≤–∏–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è</div></div>`,
                usage: [ "–î–µ–π—Å—Ç–≤–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è –∫ –º–æ–º–µ–Ω—Ç—É –≤ –±—É–¥—É—â–µ–º: <i>By next year, I <b>will have graduated</b>.</i>" ],
                formula: { positive: "Subject + will have + V3", negative: "Subject + will not (won't) have + V3", question: "Will + subject + have + V3?" },
                markers: "by ..., by the time, before.",
                examples: [ "He <b>will have finished</b> the project by Friday.", "<b>Will</b> she <b>have read</b> the book by the end of the month?" ],
                quizzes: [
                    { question: "By 2030, scientists ___ a cure for the disease.", options: ["will discover", "will have discovered", "discover", "will be discovering"], answer: "will have discovered" },
                    { question: "By the time you arrive, I ___ (cook) dinner.", options: ["cook", "will cook", "will be cooking", "will have cooked"], answer: "will have cooked" },
                    { question: "She ___ (save) enough money to buy a car by next year.", options: ["saves", "will save", "will have saved", "will be saving"], answer: "will have saved" }
                ]
            },
            FuturePerfectContinuous: {
                title: "Future Perfect Continuous (–ë—É–¥—É—â–µ–µ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ)",
                intro: "–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –¥–æ–ª–≥–æ –±—É–¥–µ—Ç –¥–ª–∏—Ç—å—Å—è –¥–µ–π—Å—Ç–≤–∏–µ –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É –º–æ–º–µ–Ω—Ç—É –≤ –±—É–¥—É—â–µ–º.",
                timeline: `<div class="timeline"><div class="timeline-process" style="left: 20%; width: 60%;"></div><div class="timeline-point" style="left: 80%;"></div><div class="timeline-label" style="left: 50%;">–ö–∞–∫ –¥–æ–ª–≥–æ –±—É–¥–µ—Ç –¥–ª–∏—Ç—å—Å—è</div><div class="timeline-label" style="left: 80%;">–ú–æ–º–µ–Ω—Ç –≤ –±—É–¥—É—â–µ–º</div></div>`,
                usage: [ "–ü–æ–¥—á–µ—Ä–∫–∏–≤–∞–µ—Ç –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –±—É–¥—É—â–µ–º: <i>By next month, we <b>will have been living</b> here for ten years.</i>" ],
                formula: { positive: "Subject + will have been + V-ing", negative: "Subject + will not (won't) have been + V-ing", question: "Will + subject + have been + V-ing?" },
                markers: "by ... for ..., by the time.",
                examples: [ "Next year, I <b>will have been working</b> here for 20 years.", "How long <b>will</b> you <b>have been waiting</b> by 6 PM?" ],
                quizzes: [
                    { question: "By the time he retires, he ___ for 40 years.", options: ["will work", "will be working", "works", "will have been working"], answer: "will have been working" },
                    { question: "In June, we ___ (live) in this house for ten years.", options: ["live", "will live", "will be living", "will have been living"], answer: "will have been living" },
                    { question: "By next week, she ___ (study) for this exam for three months.", options: ["studies", "will study", "will be studying", "will have been studying"], answer: "will have been studying" }
                ]
            }
        };

        let currentTime = 'Present';
        let currentAspect = 'Simple';
        let currentQuizIndex = 0;
        let currentTenseKey = '';

        const timeNavElement = document.getElementById('time-nav');
        const aspectNavElement = document.getElementById('aspect-nav');
        const contentContainerElement = document.getElementById('content-container');
        const verbsModal = document.getElementById('verbsModal');
        const openVerbsModalBtn = document.getElementById('openVerbsModal');
        const closeVerbsModalBtn = document.getElementById('closeVerbsModal');
        const irregularVerbsTableBody = document.getElementById('irregularVerbsTableBody');

        function populateIrregularVerbsTable() {
            irregularVerbsData.forEach(verb => {
                const row = irregularVerbsTableBody.insertRow();
                row.insertCell().textContent = verb.v1;
                row.insertCell().textContent = verb.v2;
                row.insertCell().textContent = verb.v3;
                row.insertCell().textContent = verb.translation;
            });
        }
        
        openVerbsModalBtn.onclick = function() {
            verbsModal.style.display = "block";
        }
        closeVerbsModalBtn.onclick = function() {
            verbsModal.style.display = "none";
        }
        window.onclick = function(event) {
            if (event.target == verbsModal) {
                verbsModal.style.display = "none";
            }
        }

        function renderMainContent() {
            currentTenseKey = currentTime + currentAspect;
            const contentData = data[currentTenseKey];
            currentQuizIndex = 0; 

            if (!contentData) {
                contentContainerElement.innerHTML = `<p class="text-center text-slate-500">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞.</p>`;
                return;
            }

            const usageList = contentData.usage.map(item => `<li class="mb-2">${item}</li>`).join('');
            const examplesList = contentData.examples.map(item => `<li class="mb-2 p-3 bg-slate-100 rounded-lg">${item}</li>`).join('');

            contentContainerElement.innerHTML = `
                <div class="content-section active" id="content-${currentTenseKey}">
                    <h2 class="text-2xl md:text-3xl font-bold mb-2 text-blue-800">${contentData.title}</h2>
                    <p class="text-slate-600 mb-6">${contentData.intro}</p>
                    
                    ${contentData.timeline || ''}

                    <div class="grid md:grid-cols-2 gap-6 mt-8">
                        <div class="bg-blue-50 p-6 rounded-xl">
                            <h3 class="text-xl font-semibold mb-3 text-blue-900">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</h3>
                            <ul class="list-disc list-inside text-slate-700 space-y-2">${usageList}</ul>
                        </div>
                        <div class="bg-green-50 p-6 rounded-xl">
                            <h3 class="text-xl font-semibold mb-3 text-green-900">–§–æ—Ä–º—É–ª–∞</h3>
                            <div class="space-y-4">
                                <div><h4 class="font-bold text-green-800">(+) –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h4><code class="block text-sm p-2 bg-green-100 rounded mt-1">${contentData.formula.positive}</code></div>
                                <div><h4 class="font-bold text-green-800">(-) –û—Ç—Ä–∏—Ü–∞–Ω–∏–µ</h4><code class="block text-sm p-2 bg-green-100 rounded mt-1">${contentData.formula.negative}</code></div>
                                <div><h4 class="font-bold text-green-800">(?) –í–æ–ø—Ä–æ—Å</h4><code class="block text-sm p-2 bg-green-100 rounded mt-1">${contentData.formula.question}</code></div>
                            </div>
                        </div>
                        <div class="bg-indigo-50 p-6 rounded-xl">
                            <h3 class="text-xl font-semibold mb-3 text-indigo-900">–ü—Ä–∏–º–µ—Ä—ã</h3>
                            <ul class="space-y-2">${examplesList}</ul>
                        </div>
                        <div class="bg-amber-50 p-6 rounded-xl">
                             <h3 class="text-xl font-semibold mb-3 text-amber-900">–°–ª–æ–≤–∞-–º–∞—Ä–∫–µ—Ä—ã</h3>
                             <p class="text-slate-700">${contentData.markers}</p>
                        </div>
                    </div>

                    <div class="mt-8 border-t pt-6">
                        <h3 class="text-2xl font-bold mb-4 text-center">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞–Ω–∏—è</h3>
                        <div id="quiz-section" class="max-w-xl mx-auto bg-slate-100 p-6 rounded-xl">
                           
                        </div>
                    </div>
                </div>
            `;
            renderCurrentQuizQuestion();
        }

        function renderCurrentQuizQuestion() {
            const quizSection = document.getElementById('quiz-section');
            if (!quizSection) return;

            const tenseData = data[currentTenseKey];
            if (!tenseData || !tenseData.quizzes || tenseData.quizzes.length === 0) {
                quizSection.innerHTML = "<p>–¢–µ—Å—Ç—ã –¥–ª—è —ç—Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã.</p>";
                return;
            }

            if (currentQuizIndex >= tenseData.quizzes.length) {
                quizSection.innerHTML = `<p class="text-center text-green-600 font-semibold text-lg">üéâ –í—Å–µ —Ç–µ—Å—Ç—ã –ø–æ —ç—Ç–æ–º—É –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–π–¥–µ–Ω—ã! –í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–µ –≤—Ä–µ–º—è –∏–ª–∏ –∞—Å–ø–µ–∫—Ç.</p>`;
                return;
            }
            
            const quizData = tenseData.quizzes[currentQuizIndex];
            const quizOptionsHTML = quizData.options.map(option =>
                `<button class="quiz-option w-full text-left p-3 border rounded-lg transition">${option}</button>`
            ).join('');

            quizSection.innerHTML = `
                <p class="text-lg mb-1">–í–æ–ø—Ä–æ—Å ${currentQuizIndex + 1} –∏–∑ ${tenseData.quizzes.length}</p>
                <p class="text-lg mb-4">${quizData.question.replace('___', '<span class="font-bold text-blue-600">___</span>')}</p>
                <div id="quiz-options-container" class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    ${quizOptionsHTML}
                </div>
                <div id="quiz-feedback" class="mt-4 text-center font-semibold"></div>
                <button id="next-quiz-button" class="mt-4 w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded-lg transition hidden">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</button>
            `;
            attachQuizItemListeners(quizData);
        }

        function attachQuizItemListeners(quizData) {
            const optionsContainer = document.getElementById('quiz-options-container');
            const feedbackEl = document.getElementById('quiz-feedback');
            const nextButton = document.getElementById('next-quiz-button');
            
            optionsContainer.addEventListener('click', function quizClickHandler(e) {
                if (e.target.classList.contains('quiz-option') && !e.target.disabled) {
                    const selectedAnswer = e.target.textContent;
                    
                    Array.from(optionsContainer.children).forEach(child => {
                        child.disabled = true;
                        child.classList.remove('quiz-option:hover');
                        if (child.textContent === quizData.answer) {
                           child.classList.add('bg-green-200', 'border-green-400');
                        }
                    });

                    if (selectedAnswer === quizData.answer) {
                        feedbackEl.textContent = '–ü—Ä–∞–≤–∏–ª—å–Ω–æ! ‚úÖ';
                        feedbackEl.className = 'mt-4 text-center font-semibold text-green-600';
                        e.target.classList.add('bg-green-200', 'border-green-400');
                    } else {
                        feedbackEl.textContent = `–ù–µ–≤–µ—Ä–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${quizData.answer} ‚ùå`;
                        feedbackEl.className = 'mt-4 text-center font-semibold text-red-600';
                        e.target.classList.add('bg-red-200', 'border-red-400');
                    }
                    nextButton.classList.remove('hidden');
                    optionsContainer.removeEventListener('click', quizClickHandler); 
                }
            });

            nextButton.addEventListener('click', () => {
                currentQuizIndex++;
                renderCurrentQuizQuestion();
            });
        }

        function updateActiveTabs() {
            document.querySelectorAll('.time-tab').forEach(tab => {
                tab.classList.toggle('tab-active', tab.dataset.time === currentTime);
            });
            document.querySelectorAll('.aspect-tab').forEach(tab => {
                tab.classList.toggle('aspect-tab-active', tab.dataset.aspect === currentAspect);
            });
        }

        timeNavElement.addEventListener('click', (e) => {
            if (e.target.classList.contains('time-tab')) {
                currentTime = e.target.dataset.time;
                updateActiveTabs();
                renderMainContent();
            }
        });

        aspectNavElement.addEventListener('click', (e) => {
            if (e.target.classList.contains('aspect-tab')) {
                currentAspect = e.target.dataset.aspect;
                updateActiveTabs();
                renderMainContent();
            }
        });

        window.addEventListener('DOMContentLoaded', () => {
            populateIrregularVerbsTable();
            updateActiveTabs();
            renderMainContent();
        });
    </script>

</body>
</html>
